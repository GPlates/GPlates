@SET_MAKE@

subdir = src/maths
prefix = @prefix@

DISTFILES = Makefile.in *.cc *.h

INCLUDES = -I..
CXXFLAGS = @CXXFLAGS@ $(INCLUDES) @EXTRA_CFLAGS@
LDFLAGS = @LDFLAGS@ @EXTRA_LDFLAGS@

OBJS = DirVector3D.o FiniteRotation.o GreatCircle.o GreatCircleArc.o \
	GridOnSphere.o LatLonPointConversions.o PointLiesOnGreatCircleArc.o \
	PointOnSphere.o PolyLineOnSphere.o PolygonOnSphere.o \
	PolylineIntersections.o Real.o Rotation.o RotationHistory.o \
	RotationSequence.o SmallCircle.o StageRotation.o UnitQuaternion3D.o \
	UnitVector3D.o Vector3D.o

LIBNAME = libmaths.a

all:		$(LIBNAME)

clean:
	rm -f $(OBJS)
	rm -f $(LIBNAME)
	rm -f core gmon.out

$(LIBNAME):	$(OBJS)
		ar rcs $@ $^

include ../Rules

distdir = ../../@PACKAGE_TARNAME@-@PACKAGE_VERSION@/$(subdir)
dist:	Makefile $(DISTFILES)
	for file in $(DISTFILES) ; do \
		ln $$file $(distdir) 2>/dev/null || \
			cp -p $$file $(distdir); \
	done
